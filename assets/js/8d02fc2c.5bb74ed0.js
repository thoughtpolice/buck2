"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1603],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>l,MDXProvider:()=>p,mdx:()=>h,useMDXComponents:()=>d,withMDXComponents:()=>m});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(){return i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i.apply(this,arguments)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),m=function(e){return function(n){var t=d(n.components);return r.createElement(e,i({},n,{components:t}))}},d=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},p=function(e){var n=d(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},b=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=d(t),p=o,u=m["".concat(a,".").concat(p)]||m[p]||f[p]||i;return t?r.createElement(u,c(c({ref:n},l),{},{components:t})):r.createElement(u,c({ref:n},l))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=b;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c[u]="string"==typeof e?e:o,a[1]=c;for(var l=2;l<i;l++)a[l]=t[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}b.displayName="MDXCreateElement"},78866:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var r=t(87462),o=(t(67294),t(3905));const i={id:"daemon",title:"Daemon (buckd)"},a=void 0,c={unversionedId:"concepts/daemon",id:"concepts/daemon",title:"Daemon (buckd)",description:"The first time that a Buck2 command is run, Buck2 starts a daemon process for",source:"@site/../docs/concepts/daemon.md",sourceDirName:"concepts",slug:"/concepts/daemon",permalink:"/docs/concepts/daemon",draft:!1,tags:[],version:"current",frontMatter:{id:"daemon",title:"Daemon (buckd)"},sidebar:"mainSidebar",previous:{title:"Visibility",permalink:"/docs/concepts/visibility"},next:{title:".buckconfig",permalink:"/docs/concepts/buckconfig"}},s={},l=[{value:"Killing or disabling the Buck daemon",id:"killing-or-disabling-the-buck-daemon",level:2}],m=(d="FbInternalOnly",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",e)});var d;const p={toc:l};function u(e){let{components:n,...t}=e;return(0,o.mdx)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("p",null,"The first time that a Buck2 command is run, Buck2 starts a daemon process for\nthe current project. For subsequent commands, Buck2 checks for the running\ndaemon process and, if found, uses the daemon to execute the command. Using the\nBuck2 daemon can save significant time as it enables Buck to share cache between\nBuck2 invocations."),(0,o.mdx)("p",null,"By default, there is 1 daemon per ",(0,o.mdx)("a",{parentName:"p",href:"/docs/concepts/glossary#project"},"project")," root, you can\nrun multiple daemons in the same project by specifying an\n",(0,o.mdx)("a",{parentName:"p",href:"/docs/concepts/glossary#isolation-dir"},"isolation dir"),"."),(0,o.mdx)("p",null,"While it runs, the Buck daemon process monitors the project's file system for\nchanges. The Buck daemon excludes from monitoring any subtrees of the project\nfile system that are specified in the ",(0,o.mdx)("inlineCode",{parentName:"p"},"[project].ignore")," setting of\n",(0,o.mdx)("inlineCode",{parentName:"p"},".buckconfig"),"."),(0,o.mdx)("h2",{id:"killing-or-disabling-the-buck-daemon"},"Killing or disabling the Buck daemon"),(0,o.mdx)("p",null,"The Buck daemon process is killed if ",(0,o.mdx)("inlineCode",{parentName:"p"},"buck2 clean")," or ",(0,o.mdx)("inlineCode",{parentName:"p"},"buck2 kill")," commands are\nrun. Note that they won't kill the daemon associated with custom isolation dirs.\nTo do that, run using the ",(0,o.mdx)("inlineCode",{parentName:"p"},"--isolation-dir")," option\n(",(0,o.mdx)("inlineCode",{parentName:"p"},"buck2 --isolation-dir <dir> <command>"),")"),(0,o.mdx)(m,{mdxType:"FbInternalOnly"},(0,o.mdx)("p",null,"The Daemon is also killed when:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"The ",(0,o.mdx)("inlineCode",{parentName:"li"},"buck2 killall")," command is run."),(0,o.mdx)("li",{parentName:"ul"},"A new buck2 version is available."))))}u.isMDXComponent=!0}}]);